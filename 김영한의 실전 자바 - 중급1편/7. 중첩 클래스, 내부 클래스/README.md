# 중첩 클래스, 내부 클래스1

## 중첩 클래스, 내부 클래스 란?

- for문 안에 for문이 중첩하는 것을 중첩(Nested) for문이라 한다
- 중첩 클래스(Nested Class) : 클래스 안에 클래스를 중첩해서 정의한 것

![image](https://github.com/ngngs/TIL/assets/47618270/d57cafee-3ddb-49ba-a93f-46a14efc3fe9)

## 중첩 클래스는 총 4가지가 있다
- 정적 중첩 클래스, 내부 클래스, 지역 클래스, 익명 클래스
- 중첩 클래스를 정의하는 위치는 변수의 선언 위치와 같다
- 정적 중첩 클래스는 정적 변수(클래스 변수)와 같은 위치
- 내부 클래스는 인스턴스 변수와 같은 위치
- 지역 클래스는 지역 변수와 같은 위치

```java
class Outer {
  // 정적 중첩 클래스
  static class StaticNested{

  }

  // 내부 클래스
  class Inner {
  ...
  }
}
```
- 정적 중첩 클래스는 정적 변수와 같이 앞에 static이 붙어있다
- 내부 클래스는 인스턴스 변수와 같이 앞에 static이 붙지 않는다

```java
class Outer {
  public void process(){
    // 지역 변수
    int localVar = 0;

    // 지역 클래스
    class Local {...}

    Local local = new Local();
  }
}
```
- 지역 클래스는 지역 변수와 같이 코드 블럭 안에서 클래스를 정의한다
- 참고로, 익명 클래스는 지역 클래스의 특별한 버전이다

### 중첩(Nested) vs 내부(Inner)
- 중첩 : 어떤 다른 것이 내부에 위치하거나 포함되는 구조적 관계, `나의 안에 있지만 내것이 아닌 것`
- 내부 : 나의 내부에 있는 나를 구성하는 요소, `나의 안에 있는 나를 구성하는 요소`
- 중첩과 내부를 분류하는 핵심은 바깥 클래스 입장에서 안에 있는 클래스가 내 인스턴스에 소속이 되는가? 안되는가?
- 정적 중첩 클래스는 바깥 클래스와 전혀 다른 클래스 -> 즉, 바깥 클래스의 인스턴스에 소속되지 않음
- 내부 클래스는 바깥 클래스를 구성하는 요소 -> 따라서, 바깥 클래스 인스턴스에 소속

## 중간 정리
- 정적 중첩 클래스는 static, 바깥 클래스 인스턴스에 소속되지 않음
- 내부 클래스(내부 클래스, 지역 클래스, 익명 클래스)는 바깥 클래스 인스턴스에 소속

## 중첩 클래스는 언제 사용해야 하는가
- 내부 클래스를 포함한 모든 중첩 클래스는 특정 클래스가 `다른 하나의 클래스 안`에서만 사용되거나, 둘이 아주 긴밀하게 연결된 특별한 경우
- 외부 여러 클래스가 특정 중첩 클래스를 사용한다면 중첩 클래스로 만들면 안된다

## 중첩 클래스를 사용하는 이유
- (1) 논리적 그룹화 : 특정 클래스가 다른 하나 클래스 안에서만 사용되는 경우, 해당 클래스 안에 포함하는 것이 논리적으로 그룹화 된다
- 추가로, 패키지를 열었을 때 다른 곳에서 사용될 필요가 없는 중첩 클래스가 외부에 노출되지 않는 장점
- (2) 캡슐화 : 중첩 클래스는 바깥 클래스의 private 멤버에 접근한다. 이렇게 해서 둘은 긴밀하게 연결되고, 불필요한 `public` 메소드가 제거된다







